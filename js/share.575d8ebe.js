(function(e){function t(t){for(var s,r,c=t[0],i=t[1],l=t[2],_=0,p=[];_<c.length;_++)r=c[_],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,c=1;c<n.length;c++){var i=n[c];0!==o[i]&&(s=!1)}s&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var s={},o={share:0},a=[];function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=i;a.push([3,"chunk-vendors","chunk-common"]),n()})({3:function(e,t,n){e.exports=n("93c2")},"93c2":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("a79d"),n("ddb0");var s=n("2b0e"),o=(n("a0c3"),n("941c"),n("af18")),a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("App",{attrs:{type:3}})},r=[],c=n("f4dd"),i=s["default"].extend({components:{App:c["a"]}}),l=i,u=n("2877"),_=Object(u["a"])(l,a,r,!1,null,null,null),p=_.exports,f=n("6c82");n("14d9"),n("ac1f"),n("2b3d"),n("bf19"),n("9861"),n("88a7"),n("271a"),n("5494");class d{constructor(){this.enable=!0}setEnable(e){this.enable=e,this.enable?(console.log=console.log,console.trace=console.trace,console.warn=console.warn,console.error=console.error,console.table=console.table):(console.log=()=>{},console.trace=()=>{},console.warn=()=>{},console.error=()=>{},console.table=()=>{})}getEnable(){return this.enable}static getInstance(){return d.instance||(d.instance=new d),d.instance}log(e,...t){console.log(e,...t)}trace(e,...t){console.trace(e,...t)}warn(e,...t){console.warn(e,...t)}error(e,...t){console.error(e,...t)}table(...e){console.table(...e)}}const b=d.getInstance();var y=b,w=n("79f6"),g=n("bc7b"),h=n("1902"),m=n("26c7"),P=n("68a3"),O=n("5a0c"),E=n.n(O),v=n("1494");class A{static getInstance(){return this.instance||(this.instance=new A),this.instance}init(){let e;Object({VUE_APP_ENV:"production",VUE_APP_BASE_URL:"https://sawa-act-api.badambiz.com/",VUE_APP_LANGUAGE:"",VUE_APP_PUBLIC_PATH:"./",VUE_APP_TRANSLATE_SHEET:"",VUE_APP_ENABLE_SPTU:"true",VUE_APP_EXTERNALS:"",VUE_APP_NO_GEN_INDEX_HTML:"true",NODE_ENV:"production",BASE_URL:""}).VUE_APP_FLAVOR,e={apiKey:"AIzaSyBlR0QK--SjqMqihBd03ARBzfuZ3x1euzo",authDomain:"badamoyundixim.firebaseapp.com",databaseURL:"https://badamoyundixim.firebaseio.com",projectId:"badamoyundixim",storageBucket:"badamoyundixim.appspot.com",messagingSenderId:"532022495714",appId:"1:532022495714:web:2a3620b2f1f41d319fd1bb",measurementId:"G-8L1XP304KR"};const t=Object(g["a"])(e);this.app=t,this.analytics=Object(h["a"])(t),this.remoteConfig=Object(P["b"])(t);const n=Object(m["a"])(t);window.firebasePerformanceTrace=function(e){return Object(m["b"])(n,e)},window.reportToFirebase=(e,t)=>{this.reportToFirebase(e,t)}}async reportToFirebase(e,t){try{const n={};Object.keys(t).forEach(e=>{n[e]=t[e]||""}),n.time=v["a"].fromDate(new Date(E()(Object(o["getSysTs"])()).valueOf()));const s=Object(v["d"])(this.app),a=Object(v["c"])(Object(v["b"])(s,e));await Object(v["e"])(a,n)}catch(n){console.error(n)}}async reportEvent(e,t){this.analytics&&(console.log("zeze",e,this.analytics),Object(h["b"])(this.analytics,e,t))}async getValueFromConfig(e){if(this.remoteConfig){await Object(P["a"])(this.remoteConfig);const t=Object(P["c"])(this.remoteConfig,e);return t.asString()}return null}}var j=A;n("e9c4"),n("0eb6"),n("b7ef"),n("8bd4");function S(){const e=Object(s["ref"])({});function t(t){let n=e.value[t];if(!n){const o=localStorage.getItem(String(t));try{if(o)return n=JSON.parse(decodeURIComponent(atob(o))),e.value[t]=n,n}catch(s){}return null}return n}function n(t,n){try{const s=btoa(encodeURIComponent(JSON.stringify(n)));localStorage.setItem(String(t),s),e.value[t]=n}catch(s){}}return function(){return{get:t,set:n}}}function I(){const e=Object(s["ref"])({});function t(t){let n=e.value[t];if(!n){const o=sessionStorage.getItem(String(t));try{if(o)return n=JSON.parse(decodeURIComponent(atob(o))),e.value[t]=n,n}catch(s){}return null}return n}function n(t,n){try{const s=btoa(encodeURIComponent(JSON.stringify(n)));sessionStorage.setItem(String(t),s),e.value[t]=n}catch(s){}}return function(){return{get:t,set:n}}}const T=S();I();var N,U;(function(e){e["上次的充值金额"]="last_pay_amount",e["上次的支付子方式"]="last_pay_type_2",e["上次成功支付子方式"]="last_success_pay_type_2",e["上次的支付订单"]="last_pay_order_id",e["本地Skey"]="sawa_ow_skey",e["上次的支付卡"]="sawa_ow_pay_card",e["上次成功的支付卡"]="sawa_ow_success_pay_card",e["充值对象uid"]="sawa_ow_to_uid",e["历史充值对象列表"]="sawa_ow_recharge_user_history_list",e["本地登录用户"]="sawa_ow_login_user",e["充值对象"]="sawa_ow_to_user",e["显示模拟支付的PageVid"]="mock_detected_by_pageVid",e["上次使用过的API_BASE"]="sawa_ow_last_use_api_base",e["上次使用过的神策域名"]="sawa_ow_last_use_sensors_base",e["备用apilist"]="sawa_ow_backup_api_list",e["备用神策list"]="sawa_ow_backup_sensors_list",e["NANO_ID_KEY"]="isawa_official_website_nanoid_3",e["LOGIN_TICKET_KEY"]="isawa_website_login_ticket_2",e["LOGIN_TYPE_KEY"]="isawa_website_login_type_2",e["whiteListKey"]="cko_new_white_list_key"})(N||(N={})),U||(U={});const L="domain-dial";async function V(e,t){return new Promise(n=>{setTimeout(()=>{n(t)},e)})}async function k(e,t=5e3){return Promise.race([V(t,null),e])}var F;async function x(){return k(j.getInstance().getValueFromConfig("ow_conf"))}(function(e){e[e["神策"]=1]="神策",e[e["API"]=2]="API"})(F||(F={}));const R=5e3;async function B(e,t){const n=new Promise(n=>{for(let s=0;s<e.length;s+=1){const o=e[s];t===F.API?D(o).then(e=>{e&&n(o)}):t===F.神策&&C(o).then(e=>{e&&n(o)})}}),s=new Promise(e=>setTimeout(()=>{e("")},R));return Promise.race([n,s])}async function D(e){const t=await o["api"].get(`https://${e}/api/sys/h5_info`,{});return t[0]?e:""}async function C(e){const t=await o["api"].get(`https://${e}/api/gm/hii`,{});return t[0]?e:""}async function K(e,t){const n=T();if(t===F.API){const t=await B(e,F.API);t?(n.set(N.上次使用过的API_BASE,t),Object(w["m"])(`https://${t}/`)):console.error("dial api timeout")}else if(t===F.神策){const t=await B(e,F.神策);t?(console.log("神策res",t,N.上次使用过的神策域名),n.set(N.上次使用过的神策域名,t)):console.error("dial api timeout")}}function $(e,t){const n=[];return e&&n.push(K(e,F.API)),t&&n.push(K(t,F.神策)),Promise.all(n)}async function Y(){const e=T();j.getInstance().init();const t=await x();if(console.log("conf",t),t){const n=JSON.parse(t),s=n.go_pk,o=n.se;return console.log(L,"conf",s,o),e.set(N.备用apilist,s),e.set(N.备用神策list,o),await $(s,o),!0}{const t=e.get(N.备用apilist),n=e.get(N.备用神策list);return await $(t,n),!0}}function z(e){const t={onlyFirst:!1,onlyOnce:!1},n=Object.assign({},t,e||{});n.onlyFirst&&n.onlyOnce&&console.error({err:"utils:onlyFirst和onlyOnce不能同时为true"});const s=[],o=new Map;let a,r,c=0,i=!1,l=!1;return{async race(e){return n.onlyFirst?this.raceFirst(e):n.onlyOnce?this.raceOnce(e):this.raceNormal(e)},async raceNormal(e){s.push(...e);const t=new Promise((e,t)=>{c+=1,o.set(c,{resolve:e,reject:t}),this.raceFunc(c)});return t},async raceFunc(e){const t=s.map(e=>e()),n=await Promise.race(t).catch(e=>console.error(e));if("undefined"!==typeof n){s.splice(0,s.length);const t=Array.from(o.keys());t.forEach(t=>{const s=o.get(t);s&&(t===e?s.resolve(n):s.reject(`utils:racer竞争失败, success id: ${e}, fail id: ${t}`))})}},async raceFirst(e){if(i)return a;{s.push(...e);const t=new Promise((e,t)=>{c+=1,o.set(c,{resolve:e,reject:t}),this.raceFunc2(c)});return a=t,i=!0,t}},async raceFunc2(e){const t=s.map(e=>e()),n=await Promise.race(t).catch(e=>console.error(e));if("undefined"!==typeof n){s.splice(0,s.length);const t=Array.from(o.keys());t.forEach(t=>{const s=o.get(t);s&&(t===e?s.resolve(n):(console.warn("h5_pay_page_show",888),s.reject(`utils:racer竞争失败, success id: ${e}, fail id: ${t}`)))})}else s.splice(0,s.length),i=!1},async raceOnce(e){s.push(...e);const t=new Promise((e,t)=>{c+=1,o.set(c,{resolve:e,reject:t}),this.raceFunc3(c)});return t},async raceFunc3(e){const t=s.map(e=>e()),n=await Promise.race(t).catch(e=>console.error(e));if("undefined"!==typeof n)if(s.splice(0,s.length),l){const e=Array.from(o.keys());e.forEach(e=>{const t=o.get(e);t&&t.reject(`utils:racer 已经有成功过的了, success id: ${r}, fail id: ${e}`)})}else{l=!0;const t=Array.from(o.keys());t.forEach(t=>{const s=o.get(t);s&&(t===e?(r=e,s.resolve(n)):s.reject(`utils:racer once竞争失败, success id: ${e}, fail id: ${t}`))})}}}}const G=Object(s["ref"])("https://sawa-sa-proxy.badambiz.com:10443/sa");function M(){const e=z({onlyFirst:!0});async function t(){const e=await Y();return n.isInit=e,e}const n={isInit:!1,async exec(){return e.race([t])}};return n}var J;(function(e){e["上次的充值金额"]="last_pay_amount",e["上次的支付子方式"]="last_pay_type_2",e["上次成功支付子方式"]="last_success_pay_type_2",e["上次的支付订单"]="last_pay_order_id",e[e["本地Skey"]=0]="本地Skey",e[e["上次的支付卡"]=0]="上次的支付卡",e[e["上次成功的支付卡"]=0]="上次成功的支付卡",e[e["充值对象uid"]=0]="充值对象uid",e[e["历史充值对象列表"]=0]="历史充值对象列表",e[e["本地登录用户"]=0]="本地登录用户",e[e["充值对象"]=0]="充值对象",e["显示模拟支付的PageVid"]="mock_detected_by_pageVid",e[e["上次使用过的API_BASE"]=0]="上次使用过的API_BASE",e[e["上次使用过的神策域名"]=0]="上次使用过的神策域名",e[e["备用apilist"]=0]="备用apilist",e[e["备用神策list"]=0]="备用神策list",e[e["登录类型"]=0]="登录类型",e["NANO_ID_KEY"]="isawa_official_website_nanoid_3",e["LOGIN_TICKET_KEY"]="isawa_website_login_ticket_2",e["LOGIN_TYPE_KEY"]="isawa_website_login_type_2",e["whiteListKey"]="cko_new_white_list_key"})(J||(J={}));const H=location.origin+"/";async function W(){const e=z({onlyFirst:!0});async function t(e=!1){console.log("zeze"),await M().exec();const t=T(),a=t.get("sawa_ow_last_use_sensors_base");a&&(G.value=`https://${a}/sa`);const r="ajax",c=y.getEnable(),i=new URL("./sensorsdata.min.js",H).href;console.log("initWebSensorsSdk",G.value,i,Object({VUE_APP_ENV:"production",VUE_APP_BASE_URL:"https://sawa-act-api.badambiz.com/",VUE_APP_LANGUAGE:"",VUE_APP_PUBLIC_PATH:"./",VUE_APP_TRANSLATE_SHEET:"",VUE_APP_ENABLE_SPTU:"true",VUE_APP_EXTERNALS:"",VUE_APP_NO_GEN_INDEX_HTML:"true",NODE_ENV:"production",BASE_URL:""}));const l={datasend_timeout:6e3,send_interval:2e3,storage_length:200},u=!!e&&l,_=!1;let p="sawa_saudi";return await Object(o["initWebSensors"])(p,c,r,G.value,i,{app_js_bridge:_,batch_send:u,max_string_length:1200}),s.isInit=!0,!!window.sensors&&(window.sensors.on("dataSendSuccess",e=>{const t=window.firebasePerformanceTrace;if(t){const e=t("sensors_send_success");e.start(),e.putAttribute("result","1"),e.stop()}n(e)}),window.sensors.on("dataSendFail",e=>{const t=window.firebasePerformanceTrace;if(t){const e=t("sensors_send_success");e.start(),e.putAttribute("result","0"),e.stop()}n(e,!0)}),!0)}function n(e,t=!1){const n=Object(o["getDayJs"])(Object(o["getSysTs"])()).valueOf(),s=(Number(Object(o["getDayJs"])(n).format("YYYYMMDD")),null===e||void 0===e?void 0:e.data);let a=[],r={};try{a=s.filter(e=>{var t;return!(null===e||void 0===e||null===(t=e.properties)||void 0===t||!t.s_event_uuid)}).map(e=>{var t;return null===e||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.s_event_uuid})}catch(i){var c;a=[null===s||void 0===s||null===(c=s.properties)||void 0===c?void 0:c.s_event_uuid].filter(e=>!!e),r=s}console.log(t?"data send fail":"data send success",e,a),a&&a.length}const s={isInit:!1,async exec(){return e.race([t])}};return t()}var X=n("9224"),q=(n("a7b5"),n("c196"));async function Q(){const e=await Object(o["getServTs"])(o["appType"].sawa);Object(o["updateTsDelta"])(e)}function Z(){return Promise.all([Q(),Object(f["b"])()])}async function ee(){try{await W(),Object(o["reportWebSensors"])("h5_recall202407_share_enter",{h5_deviceid:o["api"].getUUid()})}catch(e){console.error(e)}}s["default"].config.productionTip=!1,"zh"!==Object(o["getArgsFromUrlHash"])("lan")?Object(o["setLang"])(q):Object(o["setLang"])({},"",!0),Object(o["exec"])(async()=>{Object(o["calculateWindow"])(750);try{await Object(o["ready"])(),await ee(),Z(),o["DayJs"].setOffset(o["TimeType"].Ksa),await Object(o["addWebpAvifSupport"])({avif:Object(o["getPlatform"])().isIPhone}),Object(o["initErrorReporter"])(X["a"],X["b"]),Object(o["reportSensors"])("act_meaningful_content_loaded",!0),o["metric"].observeSourceMetric([{desc:"banner",source_name:"banner"}])}catch(e){console.error(e)}new s["default"]({render:e=>e(p)}).$mount("#app")})}});
//# sourceMappingURL=share.575d8ebe.js.map