{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/share.vue","webpack:///./src/share.vue?7646","webpack:///./src/share.vue?2df9","webpack:///./src/share.vue?95af","webpack:///./src/logger/index.ts","webpack:///./src/firebase-manager/index.ts","webpack:///./src/local-storage-manager/index.ts","webpack:///./src/local-storage-manager/consts.ts","webpack:///./src/domain-manager/dial.ts","webpack:///./src/init.ts","webpack:///./src/share.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","_setupProxy","attrs","staticRenderFns","Vue","extend","components","App","component","Logger","_classCallCheck","enable","_createClass","bl","console","log","trace","warn","error","table","message","_console","_len","arguments","optionalParams","Array","_key","concat","_console2","_len2","_key2","_console3","_len3","_key3","_console4","_len4","_key4","_console5","instance","logger","getInstance","FirebaseManager","firebaseConfig","_this","process","VUE_APP_FLAVOR","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","app","initializeApp","analytics","getAnalytics","remoteConfig","getRemoteConfig","perf","getPerformance","firebasePerformanceTrace","reportToFirebase","_reportToFirebase","_asyncToGenerator","_regeneratorRuntime","mark","_callee","cData","db","eventRef","wrap","_context","prev","next","keys","forEach","time","Timestamp","fromDate","Date","dayjs","getSysTs","valueOf","getFirestore","doc","collection","setDoc","t0","stop","_x","_x2","_reportEvent","_callee2","event","_context2","logEvent","reportEvent","_x3","_x4","_getValueFromConfig","_callee3","val","_context3","fetchAndActivate","sent","getValue","abrupt","asString","getValueFromConfig","_x5","createLocalStorageManager","reactiveStorageMap","ref","v","localStorage","getItem","String","JSON","parse","decodeURIComponent","atob","e","set","btoa","encodeURIComponent","stringify","setItem","createSessionStorageManager","sessionStorage","LOCAL_STORAGE_KEY","SESSION_STORAGE_KEY","useLocalStorage","DialType","LOG_TAG","waitValue","_waitValue","ts","Promise","setTimeout","raceWithTime","_raceWithTime","promise","_args2","undefined","race","getFirebaseConfig","_getFirebaseConfig","dial_timeout","dailUrls","_dailUrls","_callee4","urls","type","timeout","_context4","_loop","url","API","dialGoPk","then","res","神策","dialSensors","_x6","_dialGoPk","_callee5","_context5","api","_x7","_dialSensors","_callee6","_context6","dial","_x8","_x9","_dial","_callee7","ls","_res","_context7","上次使用过的API_BASE","setApiBaseUrl","上次使用过的神策域名","dial2","go_pk","se","all","getConfigAndDial","_getConfigAndDial","_callee8","conf","_go_pk","_se","_context8","init","备用apilist","备用神策list","createRacer","options","defaultOpts","onlyFirst","onlyOnce","opts","assign","err","firstPromises","onceSuccessId","_promises","_resolvers","Map","id","hasUseFirst","hasUseOnce","raceFirst","raceOnce","raceNormal","_this2","t_promise","_toConsumableArray","resolve","reject","raceFunc","__promises","map","catch","from","resolver","_this3","raceFunc2","_this4","raceFunc3","_keys","SENSOR_SERVER_URL","initDomainDial","racer","_init","_callee9","_context9","isInit","exec","BASE_PUBLIC_PATH","location","origin","initSensors","_initSensors","_callee12","initWebSensorsSdk","_initWebSensorsSdk","handleObj","_context12","obj","fail","getDayJs","datas","Number","format","e_us","filter","_i$properties","properties","s_event_uuid","_i$properties2","_datas$properties","_callee11","batch","u","send_type","_o","batch_send","app_js_bridge","sdk","_args11","_context11","getEnable","URL","href","datasend_timeout","send_interval","storage_length","initWebSensors","max_string_length","sensors","on","t_firebase","start","putAttribute","_callee10","_context10","setTime","_setTime","getServTs","appType","sawa","updateTsDelta","getMyInfo","report","_report","reportWebSensors","h5_deviceid","getUUid","config","productionTip","getArgsFromUrlHash","setLang","lang","calculateWindow","ready","DayJs","setOffset","TimeType","Ksa","addWebpAvifSupport","avif","getPlatform","isIPhone","initErrorReporter","nanoid","reportSensors","metric","observeSourceMetric","desc","source_name","h","Main","$mount"],"mappings":"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","file":"js/share-legacy.78ec8ce1.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"share\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([3,\"chunk-vendors\",\"chunk-common\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('App',{attrs:{\"type\":3}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue'\nimport App from './views/receive/index.vue'\n\nexport default Vue.extend({\n  components: { App },\n})\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--15-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--15-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./share.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--15-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--15-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./share.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./share.vue?vue&type=template&id=843538be\"\nimport script from \"./share.vue?vue&type=script&lang=ts\"\nexport * from \"./share.vue?vue&type=script&lang=ts\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable */\nclass Logger {\n  static instance: Logger\n\n  enable = true\n\n  setEnable(bl: boolean) {\n    this.enable = bl\n    if (this.enable) {\n      console.log = console.log\n      console.trace = console.trace\n      console.warn = console.warn\n      console.error = console.error\n      console.table = console.table\n    } else {\n      console.log = () => {}\n      console.trace = () => {}\n      console.warn = () => {}\n      console.error = () => {}\n      console.table = () => {}\n    }\n  }\n\n  getEnable() {\n    return this.enable\n  }\n\n  static getInstance() {\n    if (!Logger.instance) {\n      Logger.instance = new Logger()\n    }\n    return Logger.instance\n  }\n\n  _log: any\n\n  _trace: any\n\n  _warn: any\n\n  _error: any\n\n  _table: any\n\n  log(message?: any, ...optionalParams: any[]) {\n    console.log(message, ...optionalParams)\n  }\n\n  trace(message?: any, ...optionalParams: any[]) {\n    console.trace(message, ...optionalParams)\n  }\n\n  warn(message?: any, ...optionalParams: any[]) {\n    console.warn(message, ...optionalParams)\n  }\n\n  error(message?: any, ...optionalParams: any[]) {\n    console.error(message, ...optionalParams)\n  }\n\n  table(...tabularData: any[]) {\n    console.table(...tabularData)\n  }\n}\n\nconst logger = Logger.getInstance()\nexport default logger\n","import { FirebaseApp, initializeApp } from 'firebase/app'\nimport { Analytics, getAnalytics, logEvent } from 'firebase/analytics'\nimport { getPerformance, trace } from 'firebase/performance'\nimport {\n  RemoteConfig,\n  Value,\n  getRemoteConfig,\n  getValue,\n  fetchAndActivate,\n} from 'firebase/remote-config'\nimport dayjs from 'dayjs'\nimport { getFirestore, collection, doc, setDoc, Timestamp } from 'firebase/firestore'\nimport { getServTs, getSysTs } from '@badam/common-utils'\n\nclass FirebaseManager {\n  static instance: FirebaseManager\n\n  private app: FirebaseApp | undefined\n\n  private analytics: Analytics | undefined\n\n  private remoteConfig: RemoteConfig | undefined\n\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new FirebaseManager()\n    }\n    return this.instance\n  }\n\n  init() {\n    if ((process.env as any).VUE_APP_FLAVOR === 'are') {\n      // return\n    }\n    let firebaseConfig\n    if ((process.env as any).VUE_APP_ENV === 'development') {\n      firebaseConfig = {\n        apiKey: 'AIzaSyBlR0QK--SjqMqihBd03ARBzfuZ3x1euzo',\n        authDomain: 'badamoyundixim.firebaseapp.com',\n        databaseURL: 'https://badamoyundixim.firebaseio.com',\n        projectId: 'badamoyundixim',\n        storageBucket: 'badamoyundixim.appspot.com',\n        messagingSenderId: '532022495714',\n        appId: '1:532022495714:web:a92f2dda69b205e99fd1bb',\n        measurementId: 'G-SHYPRRS1YC',\n      }\n    } else {\n      firebaseConfig = {\n        apiKey: 'AIzaSyBlR0QK--SjqMqihBd03ARBzfuZ3x1euzo',\n        authDomain: 'badamoyundixim.firebaseapp.com',\n        databaseURL: 'https://badamoyundixim.firebaseio.com',\n        projectId: 'badamoyundixim',\n        storageBucket: 'badamoyundixim.appspot.com',\n        messagingSenderId: '532022495714',\n        appId: '1:532022495714:web:2a3620b2f1f41d319fd1bb',\n        measurementId: 'G-8L1XP304KR',\n      }\n    }\n    // Initialize Firebase\n    const app = initializeApp(firebaseConfig)\n    this.app = app\n    this.analytics = getAnalytics(app)\n    this.remoteConfig = getRemoteConfig(app)\n    const perf = getPerformance(app)\n    ;(window as any).firebasePerformanceTrace = function t(p: any) {\n      return trace(perf, p)\n    }\n    ;(window as any).reportToFirebase = (name: string, data: any) => {\n      this.reportToFirebase(name, data)\n    }\n  }\n\n  async reportToFirebase(name: string, data: any) {\n    try {\n      const cData: any = {}\n      Object.keys(data).forEach((key) => {\n        cData[key] = data[key] || ''\n      })\n      cData.time = Timestamp.fromDate(new Date(dayjs(getSysTs()).valueOf()))\n      const db = getFirestore(this.app as FirebaseApp)\n      const eventRef = doc(collection(db, name))\n\n      await setDoc(eventRef, cData)\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  async reportEvent(event: string, o: any) {\n    if (this.analytics) {\n      console.log('zeze', event, this.analytics)\n      logEvent(this.analytics as Analytics, event, o)\n    }\n  }\n\n  async getValueFromConfig(key: string) {\n    if (this.remoteConfig) {\n      const bl = await fetchAndActivate(this.remoteConfig)\n      //   if (bl) {\n      const val = getValue(this.remoteConfig, key)\n      return val.asString()\n      //   }\n    }\n    return null\n  }\n}\n\nexport default FirebaseManager\n","// import { throwError } from '../error-manager'\nimport { ref } from 'vue'\nimport {\n  LOCAL_STORAGE_KEY,\n  LOCAL_STORAGE_MAP,\n  SESSION_STORAGE_KEY,\n  SESSION_STORAGE_MAP,\n} from './consts'\n\nfunction createLocalStorageManager() {\n  const reactiveStorageMap = ref({} as LOCAL_STORAGE_MAP)\n\n  function get<T extends keyof LOCAL_STORAGE_MAP>(key: T): LOCAL_STORAGE_MAP[T] | null {\n    let value = reactiveStorageMap.value[key]\n    if (!value) {\n      const v = localStorage.getItem(String(key))\n      try {\n        if (v) {\n          value = JSON.parse(decodeURIComponent(atob(v)))\n          reactiveStorageMap.value[key] = value\n          return value\n        }\n      } catch (e) {\n        // throwError({ err: '解key失败', data: key })\n      }\n      return null\n    }\n    return value\n  }\n\n  function set<T extends keyof LOCAL_STORAGE_MAP>(key: T, value: LOCAL_STORAGE_MAP[T]) {\n    try {\n      const v = btoa(encodeURIComponent(JSON.stringify(value)))\n      localStorage.setItem(String(key), v)\n      reactiveStorageMap.value[key] = value\n    } catch (e) {\n      // throwError({ err: 'set key-value失败', data: { key, value } })\n    }\n  }\n  return function manager() {\n    return {\n      get,\n      set,\n    }\n  }\n}\n\nfunction createSessionStorageManager() {\n  const reactiveStorageMap = ref({} as LOCAL_STORAGE_MAP)\n\n  function get<T extends keyof LOCAL_STORAGE_MAP>(key: T): LOCAL_STORAGE_MAP[T] | null {\n    let value = reactiveStorageMap.value[key]\n    if (!value) {\n      const v = sessionStorage.getItem(String(key))\n      try {\n        if (v) {\n          value = JSON.parse(decodeURIComponent(atob(v)))\n          reactiveStorageMap.value[key] = value\n          return value\n        }\n      } catch (e) {\n        // throwError({ err: '解key失败', data: key })\n      }\n      return null\n    }\n    return value\n  }\n\n  function set<T extends keyof LOCAL_STORAGE_MAP>(key: T, value: LOCAL_STORAGE_MAP[T]) {\n    try {\n      const v = btoa(encodeURIComponent(JSON.stringify(value)))\n      sessionStorage.setItem(String(key), v)\n      reactiveStorageMap.value[key] = value\n    } catch (e) {\n      // throwError({ err: 'set key-value失败', data: { key, value } })\n    }\n  }\n  return function manager() {\n    return {\n      get,\n      set,\n    }\n  }\n}\n\nexport const useLocalStorage = createLocalStorageManager()\n\nexport const useSessionStorage = createSessionStorageManager()\n","/*  eslint-disable */\nconst STORAGE_KEY_PREFIX = 'sawa_ow_'\n\nexport enum LOCAL_STORAGE_KEY {\n  上次的充值金额 = 'last_pay_amount',\n  上次的支付子方式 = 'last_pay_type_2',\n  上次成功支付子方式 = 'last_success_pay_type_2',\n  上次的支付订单 = 'last_pay_order_id',\n  本地Skey = `sawa_ow_skey`,\n  上次的支付卡 = `sawa_ow_pay_card`,\n  上次成功的支付卡 = `sawa_ow_success_pay_card`,\n  充值对象uid = `sawa_ow_to_uid`,\n  历史充值对象列表 = `sawa_ow_recharge_user_history_list`,\n  本地登录用户 = `sawa_ow_login_user`,\n  充值对象 = `sawa_ow_to_user`,\n  显示模拟支付的PageVid = `mock_detected_by_pageVid`,\n  上次使用过的API_BASE = `sawa_ow_last_use_api_base`,\n  上次使用过的神策域名 = `sawa_ow_last_use_sensors_base`,\n  备用apilist = `sawa_ow_backup_api_list`,\n  备用神策list = `sawa_ow_backup_sensors_list`,\n  // 登录类型 = `sawa_ow_login_type`,\n\n  // 迁移旧代码登录相关\n  NANO_ID_KEY = 'isawa_official_website_nanoid_3',\n  LOGIN_TICKET_KEY = 'isawa_website_login_ticket_2',\n  LOGIN_TYPE_KEY = 'isawa_website_login_type_2',\n  whiteListKey = 'cko_new_white_list_key', //cko 白名单 待删\n}\n\nexport type LOCAL_STORAGE_MAP = {\n  [LOCAL_STORAGE_KEY.上次的充值金额]: number\n  [LOCAL_STORAGE_KEY.上次的支付订单]: string\n  [LOCAL_STORAGE_KEY.本地Skey]: string\n  // [LOCAL_STORAGE_KEY.充值对象uid]: number\n  // [LOCAL_STORAGE_KEY.充值对象]: UserInfo\n  [LOCAL_STORAGE_KEY.显示模拟支付的PageVid]: string\n  [LOCAL_STORAGE_KEY.上次使用过的API_BASE]: string\n  [LOCAL_STORAGE_KEY.上次使用过的神策域名]: string\n  // [LOCAL_STORAGE_KEY.备用apilist]: string[]\n  // [LOCAL_STORAGE_KEY.备用神策list]: string[]\n  // [LOCAL_STORAGE_KEY.登录类型]: string\n\n  // 迁移旧代码登录相关\n  [LOCAL_STORAGE_KEY.NANO_ID_KEY]: number | undefined\n  [LOCAL_STORAGE_KEY.LOGIN_TICKET_KEY]: string | undefined\n  [LOCAL_STORAGE_KEY.whiteListKey]: string\n}\n\nexport enum SESSION_STORAGE_KEY {\n  // PVI刷新时间 = `sawa_ow_pvi_refresh_time`,\n}\n\nexport type SESSION_STORAGE_MAP = {\n  // [SESSION_STORAGE_KEY.PVI刷新时间]: string\n}\n","/* eslint-disable */\nimport { setApiBaseUrl } from '@/api'\nimport { handleApiResult, api } from '@badam/common-utils'\nimport FirebaseManager from '../firebase-manager'\nimport { useLocalStorage } from '../local-storage-manager'\nimport { LOCAL_STORAGE_KEY } from '../local-storage-manager/consts'\n// import reporter from '../report-manager'\n// import { EventName } from '../report-manager/events'\n\nconst LOG_TAG = 'domain-dial'\n\nexport async function waitValue<T>(ts: number, value: T): Promise<T> {\n  return new Promise((r) => {\n    setTimeout(() => {\n      r(value)\n    }, ts)\n  })\n}\n\nexport async function raceWithTime<T>(promise: Promise<T>, time = 5000) {\n  return Promise.race([waitValue(time, null), promise])\n}\n\nexport enum DialType {\n  神策 = 1,\n  API = 2,\n}\n\nexport async function getFirebaseConfig(): Promise<string | null> {\n  return raceWithTime(FirebaseManager.getInstance().getValueFromConfig('ow_conf'))\n}\n\n// export async function getBackupDomains() {\n//   const res = await backupDomains()\n//   if (res[0]) {\n//     const [, { data }] = res\n//     const d = JSON.parse(data as any)\n//     console.log(LOG_TAG, 'data', d)\n//   }\n// }\n\nconst dial_timeout = 5000\n\nexport async function dailUrls(urls: string[], type: DialType): Promise<string> {\n  const promise: Promise<string> = new Promise((r) => {\n    for (let i = 0; i < urls.length; i += 1) {\n      const url = urls[i]\n      if (type === DialType.API) {\n        dialGoPk(url).then((res) => {\n          if (res) {\n            r(url)\n          }\n        })\n      } else if (type === DialType.神策) {\n        dialSensors(url).then((res) => {\n          if (res) {\n            r(url)\n          }\n        })\n      }\n    }\n  })\n  const timeout: Promise<string> = new Promise((r) =>\n    setTimeout(() => {\n      r('')\n    }, dial_timeout)\n  )\n  return Promise.race([promise, timeout])\n}\n\nexport async function dialGoPk(url: string): Promise<string> {\n  const res = await api.get(`https://${url}/api/sys/h5_info`, {})\n  return res[0] ? url : ''\n}\n\nexport async function dialSensors(url: string): Promise<string> {\n  const res = await api.get(`https://${url}/api/gm/hii`, {})\n  return res[0] ? url : ''\n}\n\nexport async function dial(urls: string[], type: DialType) {\n  const ls = useLocalStorage()\n  if (type === DialType.API) {\n    const res = await dailUrls(urls, DialType.API)\n    if (res) {\n      ls.set(LOCAL_STORAGE_KEY.上次使用过的API_BASE, res)\n      setApiBaseUrl(`https://${res}/`)\n    } else {\n      console.error('dial api timeout')\n      // reporter.report(\n      //   EventName.h5_init_error,\n      //   { error: 'dial api timeout' },\n      //   { onlyFirebase: true }\n      // )\n    }\n  } else if (type === DialType.神策) {\n    const res = await dailUrls(urls, DialType.神策)\n    if (res) {\n      console.log('神策res', res, LOCAL_STORAGE_KEY.上次使用过的神策域名)\n      ls.set(LOCAL_STORAGE_KEY.上次使用过的神策域名, res)\n    } else {\n      console.error('dial api timeout')\n      // reporter.report(\n      //   EventName.h5_init_error,\n      //   { error: 'dial sensors timeout' },\n      //   { onlyFirebase: true }\n      // )\n    }\n  }\n}\n\nexport function dial2(go_pk: string[] | null, se: string[] | null) {\n  const ls = []\n  if (go_pk) {\n    ls.push(dial(go_pk, DialType.API))\n  }\n  if (se) {\n    ls.push(dial(se, DialType.神策))\n  }\n  return Promise.all(ls)\n}\n\nexport async function getConfigAndDial(): Promise<boolean> {\n  const ls: any = useLocalStorage()\n  FirebaseManager.getInstance().init()\n  const conf = await getFirebaseConfig()\n\n  console.log('conf', conf)\n\n  if (conf) {\n    const o = JSON.parse(conf)\n    const go_pk: string[] = o.go_pk\n    const se: string[] = o.se\n    console.log(LOG_TAG, 'conf', go_pk, se)\n    ls.set(LOCAL_STORAGE_KEY.备用apilist, go_pk)\n    ls.set(LOCAL_STORAGE_KEY.备用神策list, se)\n    await dial2(go_pk, se)\n    return true\n  } else {\n    const go_pk = ls.get(LOCAL_STORAGE_KEY.备用apilist)\n    const se = ls.get(LOCAL_STORAGE_KEY.备用神策list)\n    await dial2(go_pk, se)\n    return true\n  }\n}\n","/* eslint-disable */\nimport { ref } from 'vue'\nimport logger from './logger'\nimport { getArgsFromUrl, initWebSensors, getDayJs, getSysTs } from '@badam/common-utils'\nimport { getConfigAndDial } from './domain-manager/dial'\nimport { useLocalStorage } from './local-storage-manager'\n\ntype RacerOptions = {\n  onlyFirst?: boolean // 是否只执行第一个，后续的返回第一个的执行结果\n  onlyOnce?: boolean // 是否竞态一次后，后续的不再执行并且抛错\n}\n\nexport function createRacer<T>(options?: RacerOptions) {\n  type Res = T\n  type Resolver = (value: Res | PromiseLike<Res>) => void\n  type Rejecter = (reason?: string) => void\n  type PromiseFunc = (...args: any) => Promise<Res>\n\n  const defaultOpts: RacerOptions = {\n    onlyFirst: false,\n    onlyOnce: false,\n  }\n\n  const opts = Object.assign({}, defaultOpts, options || {})\n\n  if (opts.onlyFirst && opts.onlyOnce) {\n    console.error({ err: 'utils:onlyFirst和onlyOnce不能同时为true' })\n    // throwError({ err: 'utils:onlyFirst和onlyOnce不能同时为true' })\n  }\n\n  const _promises: PromiseFunc[] = []\n  const _resolvers: Map<\n    number,\n    {\n      resolve: Resolver\n      reject: Rejecter\n    }\n  > = new Map()\n\n  let id = 0\n\n  let hasUseFirst = false\n  let hasUseOnce = false\n\n  let firstPromises: Promise<Res>\n  let onceSuccessId: number\n\n  return {\n    async race(promise: PromiseFunc[]): Promise<Res> {\n      if (opts.onlyFirst) {\n        return this.raceFirst(promise)\n      }\n      if (opts.onlyOnce) {\n        return this.raceOnce(promise)\n      }\n      return this.raceNormal(promise)\n    },\n\n    async raceNormal(promise: PromiseFunc[]): Promise<Res> {\n      _promises.push(...promise)\n      const t_promise = new Promise<Res>((resolve, reject) => {\n        id += 1\n        _resolvers.set(id, { resolve, reject })\n        this.raceFunc(id)\n      })\n      return t_promise\n    },\n\n    async raceFunc(id: number) {\n      const __promises = _promises.map((p) => p())\n      const res = await Promise.race(__promises).catch((e) => console.error(e))\n      if (typeof res !== 'undefined') {\n        _promises.splice(0, _promises.length)\n        const keys = Array.from(_resolvers.keys())\n        keys.forEach((key) => {\n          const resolver = _resolvers.get(key)\n          if (resolver) {\n            if (key === id) {\n              resolver.resolve(res)\n            } else {\n              resolver.reject(`utils:racer竞争失败, success id: ${id}, fail id: ${key}`)\n            }\n          }\n        })\n      }\n    },\n\n    async raceFirst(promise: PromiseFunc[]): Promise<Res> {\n      if (!hasUseFirst) {\n        _promises.push(...promise)\n        const t_promise = new Promise<Res>((resolve, reject) => {\n          id += 1\n\n          _resolvers.set(id, { resolve, reject })\n          this.raceFunc2(id)\n        })\n        firstPromises = t_promise\n        hasUseFirst = true\n        return t_promise\n      } else {\n        return firstPromises\n      }\n    },\n\n    async raceFunc2(id: number) {\n      const __promises = _promises.map((p) => p())\n      const res = await Promise.race(__promises).catch((e) => console.error(e))\n      // console.warn('h5_pay_page_show', 999, res)\n      if (typeof res !== 'undefined') {\n        _promises.splice(0, _promises.length)\n        const keys = Array.from(_resolvers.keys())\n        keys.forEach((key) => {\n          const resolver = _resolvers.get(key)\n          if (resolver) {\n            if (key === id) {\n              // console.warn('h5_pay_page_show', 777)\n              resolver.resolve(res)\n            } else {\n              console.warn('h5_pay_page_show', 888)\n              resolver.reject(`utils:racer竞争失败, success id: ${id}, fail id: ${key}`)\n            }\n          }\n        })\n      } else {\n        _promises.splice(0, _promises.length)\n        // 报错重置为false\n        hasUseFirst = false\n      }\n    },\n\n    async raceOnce(promise: PromiseFunc[]): Promise<Res> {\n      _promises.push(...promise)\n      const t_promise = new Promise<Res>((resolve, reject) => {\n        id += 1\n        _resolvers.set(id, { resolve, reject })\n        this.raceFunc3(id)\n      })\n      return t_promise\n    },\n\n    async raceFunc3(id: number) {\n      const __promises = _promises.map((p) => p())\n      const res = await Promise.race(__promises).catch((e) => console.error(e))\n      if (typeof res !== 'undefined') {\n        _promises.splice(0, _promises.length)\n        if (!hasUseOnce) {\n          hasUseOnce = true\n          const keys = Array.from(_resolvers.keys())\n          keys.forEach((key) => {\n            const resolver = _resolvers.get(key)\n            if (resolver) {\n              if (key === id) {\n                onceSuccessId = id\n                resolver.resolve(res)\n              } else {\n                resolver.reject(`utils:racer once竞争失败, success id: ${id}, fail id: ${key}`)\n              }\n            }\n          })\n        } else {\n          const keys = Array.from(_resolvers.keys())\n          keys.forEach((key) => {\n            const resolver = _resolvers.get(key)\n            if (resolver) {\n              resolver.reject(\n                `utils:racer 已经有成功过的了, success id: ${onceSuccessId}, fail id: ${key}`\n              )\n            }\n          })\n        }\n      }\n    },\n  }\n}\n\nexport const SENSOR_SERVER_URL = ref('https://sawa-sa-proxy.badambiz.com:10443/sa')\n\nfunction initDomainDial() {\n  const racer = createRacer<boolean>({ onlyFirst: true })\n\n  async function init(): Promise<boolean> {\n    const r = await getConfigAndDial()\n    o.isInit = r\n    return r\n  }\n  const o = {\n    isInit: false,\n    async exec() {\n      return racer.race([init])\n    },\n  }\n  return o\n}\n\nconst STORAGE_KEY_PREFIX = 'sawa_ow_'\n\n// @ts-ignore\nexport enum LOCAL_STORAGE_KEY {\n  // @ts-ignore\n  上次的充值金额 = 'last_pay_amount',\n  // @ts-ignore\n  上次的支付子方式 = 'last_pay_type_2',\n  上次成功支付子方式 = 'last_success_pay_type_2',\n  上次的支付订单 = 'last_pay_order_id',\n  // @ts-ignore\n  本地Skey = `${STORAGE_KEY_PREFIX}skey`,\n  // @ts-ignore\n  上次的支付卡 = `${STORAGE_KEY_PREFIX}pay_card`,\n  // @ts-ignore\n  上次成功的支付卡 = `${STORAGE_KEY_PREFIX}success_pay_card`,\n  // @ts-ignore\n  充值对象uid = `${STORAGE_KEY_PREFIX}to_uid`,\n  // @ts-ignore\n  历史充值对象列表 = `${STORAGE_KEY_PREFIX}recharge_user_history_list`,\n  // @ts-ignore\n  本地登录用户 = `${STORAGE_KEY_PREFIX}login_user`,\n  // @ts-ignore\n  充值对象 = `${STORAGE_KEY_PREFIX}to_user`,\n  // @ts-ignore\n  显示模拟支付的PageVid = `mock_detected_by_pageVid`,\n  // @ts-ignore\n  上次使用过的API_BASE = `${STORAGE_KEY_PREFIX}last_use_api_base`,\n  // @ts-ignore\n  上次使用过的神策域名 = `${STORAGE_KEY_PREFIX}last_use_sensors_base`,\n  // @ts-ignore\n  备用apilist = `${STORAGE_KEY_PREFIX}backup_api_list`,\n  // @ts-ignore\n  备用神策list = `${STORAGE_KEY_PREFIX}backup_sensors_list`,\n  // @ts-ignore\n  登录类型 = `${STORAGE_KEY_PREFIX}login_type`,\n\n  // 迁移旧代码登录相关\n  NANO_ID_KEY = 'isawa_official_website_nanoid_3',\n  LOGIN_TICKET_KEY = 'isawa_website_login_ticket_2',\n  LOGIN_TYPE_KEY = 'isawa_website_login_type_2',\n  whiteListKey = 'cko_new_white_list_key', //cko 白名单 待删\n}\n\ndeclare enum SensorSDKName {\n  TEST = '',\n  KSA = 'sawa_saudi',\n  ARE = 'sawa_prod',\n  LIVE = 'xj_live_prod',\n  QAZ = 'QazLive',\n  SAHNA = 'sahna',\n}\n\nexport const BASE_PUBLIC_PATH =\n  process.env.VUE_APP_ENV === 'development' && process.env.VUE_APP_FLAVOR === 'ksa'\n    ? 'https://test-isawa.badambiz.com/html/sawa-offical-website/ksa/'\n    : location.origin + '/'\n\nexport async function initSensors() {\n  const racer = createRacer<boolean>({ onlyFirst: true })\n\n  async function initWebSensorsSdk(batch = false): Promise<boolean> {\n    console.log('zeze')\n    await initDomainDial().exec()\n    const ls: any = useLocalStorage()\n    const u = ls.get('sawa_ow_last_use_sensors_base')\n    if (u) SENSOR_SERVER_URL.value = `https://${u}/sa`\n    const send_type = 'ajax'\n    const log = logger.getEnable()\n    const url = new URL('./sensorsdata.min.js', BASE_PUBLIC_PATH).href\n    console.log('initWebSensorsSdk', SENSOR_SERVER_URL.value, url, process.env)\n\n    const _o = {\n      datasend_timeout: 6000, // 一次请求超过多少毫秒的话自动取消，防止请求无响应。\n      send_interval: 2000, // 间隔多少毫秒发一次数据。\n      storage_length: 200, // 存储 localStorage 条数最大值，默认：200 。\n    }\n    const batch_send = batch ? _o : false\n    const app_js_bridge = false\n\n    let sdk: any = 'sawa_saudi'\n\n    await initWebSensors(sdk, log, send_type, SENSOR_SERVER_URL.value, url, {\n      app_js_bridge,\n      batch_send,\n      max_string_length: 1200,\n    })\n\n    o.isInit = true\n\n    if (window.sensors) {\n      window.sensors.on('dataSendSuccess', (obj: any) => {\n        const trace = (window as any).firebasePerformanceTrace\n        if (trace) {\n          const t_firebase = trace('sensors_send_success')\n          t_firebase.start()\n          t_firebase.putAttribute('result', '1')\n          t_firebase.stop()\n        }\n        handleObj(obj)\n      })\n      window.sensors.on('dataSendFail', (obj: any) => {\n        const trace = (window as any).firebasePerformanceTrace\n        if (trace) {\n          const t_firebase = trace('sensors_send_success')\n          t_firebase.start()\n          t_firebase.putAttribute('result', '0')\n          t_firebase.stop()\n        }\n        handleObj(obj, true)\n      })\n      return true\n    } else {\n      return false\n    }\n  }\n\n  function handleObj(obj: any, fail = false) {\n    const ts = getDayJs(getSysTs()).valueOf()\n    const day = Number(getDayJs(ts).format('YYYYMMDD'))\n    const datas: any = obj?.data\n    let e_us = []\n    let d = {}\n    try {\n      e_us = datas\n        .filter((i: any) => !!i?.properties?.s_event_uuid)\n        .map((i: any) => i?.properties?.s_event_uuid)\n    } catch (e) {\n      e_us = [datas?.properties?.s_event_uuid].filter((i) => !!i)\n      d = datas\n    }\n    console.log(fail ? 'data send fail' : 'data send success', obj, e_us)\n    if ((e_us && e_us.length > 0) || fail) {\n    }\n  }\n\n  const o = {\n    isInit: false,\n    async exec() {\n      return racer.race([initWebSensorsSdk])\n    },\n  }\n\n  return initWebSensorsSdk()\n}\n","import Vue from 'vue'\nimport '@badam/vue-tsx-support/enable-check'\nimport '@badam/vue-tsx-support/options/enable-nativeon'\nimport {\n  calculateWindow,\n  exec,\n  ready,\n  addWebpAvifSupport,\n  initErrorReporter,\n  reportSensors,\n  metric,\n  DayJs,\n  TimeType,\n  getPlatform,\n  getArgsFromUrlHash,\n  setLang,\n  getServTs,\n  appType,\n  updateTsDelta,\n  reportWebSensors,\n  api,\n} from '@badam/common-utils'\nimport Main from '@/share.vue'\nimport { getMyInfo } from '@/store/action'\n// import FirebaseManager from '@/firebase-manager/index'\nimport { initSensors } from './init'\nimport { name, nanoid } from '../package.json'\nimport './index.module.scss'\nimport lang from './lang/index.ksa.json'\n\nVue.config.productionTip = false\n\nif (getArgsFromUrlHash('lan') !== 'zh') {\n  setLang(lang)\n} else {\n  setLang({}, '', true)\n}\n\nasync function setTime() {\n  const time = await getServTs(appType.sawa)\n  updateTsDelta(time)\n}\n\nfunction init() {\n  return Promise.all([setTime(), getMyInfo()])\n}\n\nasync function report() {\n  try {\n    await initSensors()\n\n    reportWebSensors('h5_recall202407_share_enter', {\n      h5_deviceid: api.getUUid(),\n    })\n  } catch (err) {\n    console.error(err)\n  }\n}\n\nexec(async () => {\n  calculateWindow(750)\n  try {\n    await ready()\n    await report()\n    init()\n    // FirebaseManager.getInstance().init()\n    // FirebaseManager.getInstance().reportEvent('h5_user_recall', {})\n    // FirebaseManager.getInstance().reportToFirebase('h5_user_recall', { uuid: getUUid() })\n    DayJs.setOffset(TimeType.Ksa)\n    await addWebpAvifSupport({\n      avif: getPlatform().isIPhone,\n    })\n    initErrorReporter(name, nanoid)\n    reportSensors('act_meaningful_content_loaded', true)\n    metric.observeSourceMetric([\n      {\n        desc: 'banner',\n        source_name: 'banner',\n      },\n    ])\n  } catch (err) {\n    console.error(err)\n  }\n\n  new Vue({\n    render: (h) => h(Main),\n  }).$mount('#app')\n})\n"],"sourceRoot":""}